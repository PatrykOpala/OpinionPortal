"use strict";(self.webpackChunkopinion_portal=self.webpackChunkopinion_portal||[]).push([[874],{1889:(x,P,o)=>{o.d(P,{Q:()=>g});var n=o(5861),m=o(4650),d=o(9653),l=o(6678);const s=(0,d.ZF)("opinions"),p=((0,d.P1)(s,_=>_.opinion),(0,d.P1)(s,_=>_));var f=o(648),C=o(5669);let g=(()=>{class _ extends C.e{constructor(){super(),this.OpinionStore=(0,m.f3M)(d.yh),this.state={opinion:[]},this.opinions$=this.OpinionStore.select(p),this.opinions$.subscribe(t=>this.state=t)}SendOpinionToDatabase(t){this.databaseQuery.pushToDatabase("opinions",t).then(r=>{this.OpinionStore.dispatch((0,l.es)({opinion:r}))})}GetOpinionFromDataBase(){this.databaseQuery.getAllFromDatabase("opinions").then(t=>{const r=t.filter(h=>h.user_name===JSON.parse(localStorage.getItem("nsdjlnsf")).user.name);this.InitOpinions(r)})}ChangeOpinion(t,r){this.databaseQuery.changeDataAtDatabase("opinions",r,{id:t},this.state,this.OpinionStore)}DeleteOpinion(t){var r=this;return(0,n.Z)(function*(){const h=yield r.databaseQuery.deleteDataAtDatabase("opinions",t);null!==h.success&&null!==h.error?r.DeleteOpinionFromStore(Number(t.id)):console.error(h.error)})()}DeleteOpinionFromStore(t){let r=[];null!=t&&(r=this.state.opinion.filter(h=>h.id!==t)),this.OpinionStore.dispatch((0,l.Hf)({opinion:r}))}InitOpinions(t){this.OpinionStore.dispatch((0,l.hH)({opinion:t}))}InitialDataInStore(t){window.localStorage.getItem(f.dA.nsdjlnsf)&&JSON.parse(window.localStorage.getItem(f.dA.nsdjlnsf))}AddOpinionToStore(t){this.OpinionStore.dispatch((0,l.es)({opinion:t}))}}return _.\u0275fac=function(t){return new(t||_)},_.\u0275prov=m.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},2725:(x,P,o)=>{o.d(P,{M:()=>C});var n=o(4650),m=o(9653),d=o(9043);const l=(0,m.ZF)("products"),s=(0,m.P1)(l,g=>g.products);(0,m.P1)(l,g=>g);var p=o(9641),f=o(5669);let C=(()=>{class g extends f.e{constructor(){super(),this.productStore=(0,n.f3M)(m.yh),this._product=[],this.productStore.select(s).subscribe(c=>{void 0!==c&&(this._product=[...c])})}sendProductToDatabase(c){this.databaseQuery.pushProductToDatabase("products",c).then(t=>{let r=p.x.returnProduct(t.id,t.name,t.type_product,t.description,t.user_id),h=this._product;h.push(r),this.productStore.dispatch((0,d.yK)({products:h}))})}deleteProductFromDatabase(c){this.databaseQuery.deleteProductAtDatabase("products",c).then(t=>{let r=this._product.filter(h=>h.id!==t);this.productStore.dispatch((0,d.yK)({products:r}))})}getProductsFromDatabase(){return new Promise((c,t)=>{this.databaseQuery.getAllProductsFromDatabase("products").then(r=>{let h=p.x.returnProductArray(r);return this.productStore.dispatch((0,d.yK)({products:h})),c(h)})})}get product(){return this._product}}return g.\u0275fac=function(c){return new(c||g)},g.\u0275prov=n.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},3782:(x,P,o)=>{o.d(P,{p:()=>M});var n=o(4650),m=o(9653),d=o(3606);const l=(0,m.ZF)("users"),s=(0,m.P1)(l,p=>p.user);let M=(()=>{class p{constructor(){this._userStore=(0,n.f3M)(m.yh),this.user={id:0,email:"",name:"",type:"",user_uuid:"",delete_user:!1,isEmpty:!0},this._users$=this._userStore.select(s),this._users$.subscribe(C=>{this.user=C})}getUserFromStore(){return this._users$}getUser(){return this.user}addUserToStore(C){this._userStore.dispatch((0,d.c)({user:C}))}}return p.\u0275fac=function(C){return new(C||p)},p.\u0275prov=n.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},8874:(x,P,o)=>{o.d(P,{t:()=>C});var n=o(4650),m=o(1889),d=o(7400),l=o(6895);const s=["headOpn"],M=["paragraph"];function p(g,_){if(1&g){const c=n.EpF();n.TgZ(0,"div",10),n.NdJ("click",function(){n.CHM(c);const r=n.oxw();return n.KtG(r.context=!r.context)}),n.O4$(),n.TgZ(1,"svg",11),n._UZ(2,"circle",12)(3,"circle",13)(4,"circle",14),n.qZA()()}}function f(g,_){if(1&g){const c=n.EpF();n.TgZ(0,"div",15)(1,"button",16),n.NdJ("click",function(){n.CHM(c);const r=n.oxw();return n.KtG(r.changeOpinion())}),n._uU(2,"Edytuj"),n.qZA(),n.TgZ(3,"button",16),n.NdJ("click",function(){n.CHM(c);const r=n.oxw();return n.KtG(r.deleteOpinion())}),n._uU(4,"Usu\u0144"),n.qZA()()}}let C=(()=>{class g{constructor(c,t){this.op=c,this.dialogChangeService=t,this.login=!1,this.user_name="",this.context=!1,this.valu="",this.globalChangeValue={id:"",header:"",content:""}}ngOnInit(){void 0!==this.ops&&(this.content=this.ops.content,this.header=this.ops.header,this.opID=this.ops.id)}changeOpinion(){"undefined"!==this.paragraph.nativeElement.id&&(this.dialogChangeService.openChangeDialog(this.user_name[0],Number(this.paragraph.nativeElement.id),this.headOpn.nativeElement.textContent,this.paragraph.nativeElement.textContent),this.context=!this.context)}deleteOpinion(){"undefined"!==this.paragraph.nativeElement.id&&(this.op.DeleteOpinion({id:this.paragraph.nativeElement.id}),this.context=!this.context)}}return g.\u0275fac=function(c){return new(c||g)(n.Y36(m.Q),n.Y36(d.R))},g.\u0275cmp=n.Xpm({type:g,selectors:[["opn-opinie-container"]],viewQuery:function(c,t){if(1&c&&(n.Gf(s,5),n.Gf(M,5)),2&c){let r;n.iGM(r=n.CRH())&&(t.headOpn=r.first),n.iGM(r=n.CRH())&&(t.paragraph=r.first)}},inputs:{login:["loginP","login"],ops:"ops",user_name:"user_name"},decls:19,vars:7,consts:[[1,"opinie-container","radius"],[1,"opinie-header"],[2,"margin-left","10px","border-radius","3px","background-color","#333333","width","80px","height","50px","text-align","center","display","flex","flex-direction","column","justify-content","center","align-items","center"],[2,"font-size","1.9em","text-align","center","padding-top","40px","cursor","default"],["headOpn",""],["id","context-m","class","context_m",3,"click",4,"ngIf"],["id","content ",1,"content"],[3,"id"],["paragraph",""],["class","container__menu",4,"ngIf"],["id","context-m",1,"context_m",3,"click"],["width","30","height","50","viewBox","-6 2 30 40"],["cx","10","cy","7","r","5","fill","hsl(0,0%,99%)",1,"svg__circle"],["cx","10","cy","22.22","r","5","fill","hsl(0,0%,99%)",1,"svg__circle"],["cx","10","cy","38","r","5","fill","hsl(0,0%,99%)",1,"svg__circle"],[1,"container__menu"],[3,"click"]],template:function(c,t){1&c&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),n._uU(4),n.qZA()(),n.TgZ(5,"div")(6,"h1"),n._uU(7),n.qZA(),n.TgZ(8,"span"),n._uU(9,"Zopiniowa\u0142: "),n.TgZ(10,"b",null,4),n._uU(12),n.qZA()()(),n.YNc(13,p,5,0,"div",5),n.qZA(),n.TgZ(14,"div",6)(15,"p",7,8),n._uU(17),n.qZA()(),n.YNc(18,f,5,0,"div",9),n.qZA()),2&c&&(n.xp6(4),n.Oqu(t.user_name[0]),n.xp6(3),n.Oqu(t.user_name),n.xp6(5),n.Oqu(t.header),n.xp6(1),n.Q6J("ngIf",t.login),n.xp6(2),n.Q6J("id",t.opID),n.xp6(2),n.Oqu(t.content),n.xp6(1),n.Q6J("ngIf",t.context))},dependencies:[l.O5],styles:[".opinie-container[_ngcontent-%COMP%]{width:100%;min-height:257.317px;height:28cqh;background-color:var(--opn-green-light);color:var(--opn-background-color);display:flex;flex-direction:column;align-items:center}.opinie-container[_ngcontent-%COMP%]   .opinie-header[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:20% 66% 12%;grid-template-rows:57px;margin-top:12px}.opinie-container[_ngcontent-%COMP%]   .opinie-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0}.opinie-container[_ngcontent-%COMP%]   .opinie-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;top:-21px;width:max-content;font-size:1.1rem}.opinie-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:6%;padding-left:6px;padding-right:6px}.opinie-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px;font-size:1.9em;font-family:Arial,Helvetica,sans-serif}.opinie-container[_ngcontent-%COMP%]   .container__menu[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;width:33%;padding:3px;height:max-content;box-shadow:0 0 7px #e8e7e3;bottom:40%;left:40%;background-color:#fdfdfd}.opinie-container[_ngcontent-%COMP%]   .container__menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:99%;height:40px;margin-top:5px;font-size:1.4em;border:none;background-color:transparent;color:var(--opn-color-green);cursor:pointer}.opinie-container[_ngcontent-%COMP%]   .container__menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{width:99%;height:40px;margin-top:5px;font-size:1.4em;background-color:var(--opn-green-light);color:#fdfdfd}.opinie-container[_ngcontent-%COMP%]   .none[_ngcontent-%COMP%]{display:none}.opinie-container[_ngcontent-%COMP%]   .opinie-container-content[_ngcontent-%COMP%]{width:477px;overflow-y:auto;overflow-x:hidden;scrollbar-width:none;height:20vh}.opinie-container[_ngcontent-%COMP%]   .opinie-container-content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.radius[_ngcontent-%COMP%]{border-radius:3px}.context_m[_ngcontent-%COMP%]{width:50px;height:50px;text-align:center;cursor:pointer}.edit-container[_ngcontent-%COMP%]{min-width:477px;width:100%;min-height:28vh;background-color:var(--opn-green-light);color:var(--opn-background-color);display:flex;flex-direction:column;align-items:center}.edit-container[_ngcontent-%COMP%]   .call-to-action[_ngcontent-%COMP%]{width:100%;height:28vh;font-size:1.7rem;font-weight:700;color:var(--opn-background-color);background-color:var(--opn-color-green);border:none;cursor:pointer}.edit-container[_ngcontent-%COMP%]   .call-to-action-small[_ngcontent-%COMP%]{width:max-content;height:max-content;font-size:1.2rem;font-weight:700;color:var(--opn-background-color);background-color:transparent;border:none;cursor:pointer;margin-right:23px;padding:3px 8px;letter-spacing:2px}.edit-container[_ngcontent-%COMP%]   .call-to-action-small[_ngcontent-%COMP%]:hover{background-color:var(--opn-color-green)}.edit-container[_ngcontent-%COMP%]   .hover[_ngcontent-%COMP%]:hover{background-color:var(--opn-color-dark-green)}.edit-container[_ngcontent-%COMP%]   .opinie-header[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:20% 60% 20%;grid-template-rows:57px;margin-top:12px}.edit-container[_ngcontent-%COMP%]   .opinie-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0}.edit-container[_ngcontent-%COMP%]   .opinie-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;top:-21px;width:max-content;font-size:1.1rem}.edit-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:3vh}.edit-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px;font-size:1.9em}.edit-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:460px;height:17vh;resize:none;font-size:1.9rem;font-family:Arial,Helvetica,sans-serif;border:none;background-color:var(--opn-background-color);border-radius:3px}.edit-container[_ngcontent-%COMP%]   .edit-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:max-content}.edit-container[_ngcontent-%COMP%]   .edit-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:flex-end;margin:10px 0;border:none}.edit-container[_ngcontent-%COMP%]   .container__menu[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;width:33%;padding:3px;height:max-content;box-shadow:0 0 7px #e8e7e3;bottom:40%;left:40%;background-color:#fdfdfd}.edit-container[_ngcontent-%COMP%]   .container__menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:99%;height:40px;margin-top:5px;font-size:1.4em;border:none;background-color:transparent;color:var(--opn-color-green);cursor:pointer}.edit-container[_ngcontent-%COMP%]   .container__menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{width:99%;height:40px;margin-top:5px;font-size:1.4em;background-color:var(--opn-green-light);color:#fdfdfd}.edit-container[_ngcontent-%COMP%]   .none[_ngcontent-%COMP%]{display:none}.edit-container[_ngcontent-%COMP%]   .opinie-container-content[_ngcontent-%COMP%]{width:477px;overflow-y:auto;overflow-x:hidden;scrollbar-width:none;height:20vh}.edit-container[_ngcontent-%COMP%]   .opinie-container-content[_ngcontent-%COMP%]   .list-grid[_ngcontent-%COMP%]{padding:0;display:grid;grid-template-columns:repeat(3,32.8%);gap:3px;margin-left:.7%}.edit-container[_ngcontent-%COMP%]   .opinie-container-content[_ngcontent-%COMP%]   .list-grid[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;border:2px solid black;width:98%;height:73px;cursor:pointer;margin-bottom:3px;list-style:none}.edit-container[_ngcontent-%COMP%]   .opinie-container-content[_ngcontent-%COMP%]   .list-grid[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]:hover{border:2px solid #555555}.edit-container[_ngcontent-%COMP%]   .opinie-container-content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}svg[_ngcontent-%COMP%]:hover > .svg__circle[_ngcontent-%COMP%]{fill:#dbdbdb}.primary[_ngcontent-%COMP%]{width:max-content;height:44px;font-size:1.1em;font-weight:700;color:var(--opn-background-color);background-color:var(--opn-color-green);padding:7px;cursor:pointer}.primary[_ngcontent-%COMP%]:hover{background-color:var(--opn-color-dark-green)}@media (max-width: 1600px){.opinion__container[_ngcontent-%COMP%]   .opinie-container[_ngcontent-%COMP%]   .opinie-header[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:16% 70% 10%;grid-template-rows:57px;margin-top:12px}}"]}),g})()},9641:(x,P,o)=>{o.d(P,{x:()=>n});class n{constructor(d,l,s,M,p){this.name=d,this.type_product=l,this.description=s,this.user_id=M,this.id=p}static returnProduct(d,l,s,M,p){return new n(l,s,M,p,d)}static returnProductArray(d){return d.reduce((l,s)=>{let M=new n(s.name,s.type_product,s.description,s.user_id,s.id);return l.push(M),l},[])}}},7400:(x,P,o)=>{o.d(P,{R:()=>v});var n=o(4650),m=o(4004),d=o(1889),l=o(3782);function s(i,O,e,a,u){return{user_uuid:i,user_name:O,id:e,header:a,content:u}}const M=["area"];let p=(()=>{class i{constructor(){this.opinionEmitter=new n.vpe,this.author="Anonim",this.valu="",this._ViewSelected=0,this.dialogNewService=(0,n.f3M)(v),this.userStoreService=(0,n.f3M)(l.p),this.opinionsService=(0,n.f3M)(d.Q)}ngOnInit(){""!==this.headerOpinion&&(this.author=this.opinionAuthor,this.valu=this.headerOpinion)}ngAfterViewInit(){""!==this.opinionContent&&(this.textAreaElement.nativeElement.value=this.opinionContent)}onChangeOpinion(){let e="";this.userSub=this.userStoreService.getUserFromStore().pipe((0,m.U)(u=>u.user_uuid)).subscribe(u=>{e=u});let a=s(e,this.opinionAuthor,this.opinionId,this.valu,this.textAreaElement.nativeElement.value);this.opinionsService.ChangeOpinion(String(a.id),{header:a.header,content:a.content}),this.textAreaElement.nativeElement.value="",this.dialogNewService.closeChangeDialog()}ngOnDestroy(){this.userSub?.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=n.Xpm({type:i,selectors:[["opn-dialog-change-opinion"]],viewQuery:function(e,a){if(1&e&&n.Gf(M,5),2&e){let u;n.iGM(u=n.CRH())&&(a.textAreaElement=u.first)}},inputs:{opinionAuthor:"opinionAuthor",opinionId:"opinionId",headerOpinion:"headerOpinion",opinionContent:"opinionContent"},outputs:{opinionEmitter:"opinionEmitter"},decls:25,vars:3,consts:[[1,"dialog-background"],[1,"dialog-container"],[1,"dialog-header"],[1,"close",3,"click"],[1,"dialog-title"],[1,"dialog-content"],[1,"opinie-header"],[2,"margin-left","10px","border-radius","3px","background-color","#333333","width","80px","height","50px","display","flex","flex-direction","column","justify-content","center","align-items","center","color","var(--opn-background-color)","font-size","1.7rem"],["id","content",1,"content"],["placeholder","Zmie\u0144 Opini\u0119"],["area",""],[1,"dialog-buttons"],[1,"button-label",3,"click"]],template:function(e,a){1&e&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),n.NdJ("click",function(){return a.dialogNewService.closeChangeDialog()}),n.qZA(),n.TgZ(4,"span",4),n._uU(5,"Edytuj opini\u0119."),n.qZA()(),n.TgZ(6,"div",5)(7,"div",6)(8,"div",7),n._uU(9),n.qZA(),n.TgZ(10,"div")(11,"h1"),n._uU(12),n.qZA(),n.TgZ(13,"span"),n._uU(14,"Zopiniowa\u0142: "),n.TgZ(15,"b"),n._uU(16),n.qZA()()()(),n.TgZ(17,"div",8)(18,"span"),n._uU(19,"Add star meter there"),n.qZA(),n._UZ(20,"textarea",9,10),n.qZA()(),n.TgZ(22,"div",11)(23,"button",12),n.NdJ("click",function(){return a.onChangeOpinion()}),n._uU(24,"Zmie\u0144 opini\u0119"),n.qZA()()()()),2&e&&(n.xp6(9),n.hij(" ",a.author[0]," "),n.xp6(3),n.Oqu(a.author),n.xp6(4),n.Oqu(a.valu))},styles:['.dialog-background[_ngcontent-%COMP%]{background-color:#1c171780;position:absolute;width:100%;height:100%;top:0;left:0;z-index:99}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]{background-color:#fff5f5;width:900px;height:600px;position:relative;left:27%;top:20%;border-radius:5px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{translate:30px 40px;width:93%;display:flex}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%], .dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{width:40px;height:40px;background-color:transparent;border:none;border-radius:3px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover, .dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]:hover{background-color:#cabfbe6c}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:before{content:"";display:block;background-color:var(--opn-color-dark-green);width:5px;height:23px;translate:12.2px 8px;rotate:-45deg}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:after{content:"";display:block;background-color:var(--opn-color-dark-green);width:5px;height:23px;translate:12.2px -68%;rotate:45deg}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   .back-temp[_ngcontent-%COMP%]{background-color:var(--opn-color-dark-green);display:block;width:28px;height:28px;clip-path:polygon(41% 18%,41% 46%,100% 46%,100% 61%,41% 61%,40% 84%,0% 50%)}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-size:2em;display:block;pointer-events:none;translate:4px 30%}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{width:93%;height:70%;translate:30px 55px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .opinie-header[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:15% 85%;grid-template-rows:57px;translate:0 12px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .opinie-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;font-size:1.8rem;margin-bottom:9px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .opinie-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;top:-8px;width:max-content;font-size:1.1rem}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:3vh;height:80%}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px;font-size:1.9em}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;translate:19px 20px;font-size:1.5rem}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:98%;height:27vh;resize:none;font-size:1.9rem;font-family:Arial,Helvetica,sans-serif;border:none;background-color:var(--opn-background-color);border-radius:3px;margin-top:5vh;margin-left:.8%}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-buttons[_ngcontent-%COMP%]{translate:30px 60px;width:93%;display:flex;flex-direction:row;justify-content:flex-end}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-buttons[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]{font-size:1.5em;margin-top:20px;border:none;border-radius:3px;background-color:transparent;cursor:pointer;padding:10px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-buttons[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]:hover{background-color:#cabfbe6c}']}),i})();var f=o(2725),C=o(6895);const g=["area"];function _(i,O){if(1&i){const e=n.EpF();n.TgZ(0,"li",14),n.NdJ("click",function(){const k=n.CHM(e).$implicit,b=n.oxw(2);return n.KtG(b.toogle(k.name))}),n._uU(1),n.qZA()}if(2&i){const e=O.$implicit;n.xp6(1),n.Oqu(e.name)}}function c(i,O){if(1&i&&(n.TgZ(0,"div",11)(1,"ul",12),n.YNc(2,_,2,1,"li",13),n.qZA()()),2&i){const e=n.oxw();n.xp6(2),n.Q6J("ngForOf",e.nm)}}function t(i,O){if(1&i&&(n.TgZ(0,"div",15)(1,"div",16),n._uU(2),n.qZA(),n.TgZ(3,"div")(4,"h1"),n._uU(5),n.qZA(),n.TgZ(6,"span"),n._uU(7,"Zopiniowa\u0142: "),n.TgZ(8,"b"),n._uU(9),n.qZA()()()(),n.TgZ(10,"div",17)(11,"span"),n._uU(12,"Add star meter there"),n.qZA(),n._UZ(13,"textarea",18,19),n.qZA()),2&i){const e=n.oxw();n.xp6(2),n.hij(" ",e.uName[0]," "),n.xp6(3),n.Oqu(e.uName),n.xp6(4),n.Oqu(e.valu)}}function r(i,O){if(1&i){const e=n.EpF();n.TgZ(0,"button",20),n.NdJ("click",function(){n.CHM(e);const u=n.oxw();return n.KtG(u.backView())}),n._uU(1,"Wstecz"),n.qZA()}}function h(i,O){if(1&i){const e=n.EpF();n.TgZ(0,"button",21),n.NdJ("click",function(){n.CHM(e);const u=n.oxw();return n.KtG(u.onPublishOpinion())}),n._uU(1,"Wystaw opini\u0119"),n.qZA()}}let w=(()=>{class i{constructor(){this.valu="",this._ViewSelected=0,this.dialogNewService=(0,n.f3M)(v),this.opinionsService=(0,n.f3M)(d.Q),this.userStoreService=(0,n.f3M)(l.p),this.productService=(0,n.f3M)(f.M),this.nm=[],this.uName="Anonim",this.uUuid=""}ngOnInit(){"user"in this.userStoreService.getUser()?(this.uName=this.userStoreService.getUser().user.name,this.uUuid=this.userStoreService.getUser().user.user_uuid):(this.uName=this.userStoreService.getUser().name,this.uUuid=this.userStoreService.getUser().user_uuid),this.productService.getProductsFromDatabase().then(e=>{this.nm=e})}backView(){1===this._ViewSelected&&(this._ViewSelected=0)}toogle(e){0===this._ViewSelected&&(this.valu=e,this._ViewSelected=1)}onPublishOpinion(){let e=s(this.uUuid,this.uName,Math.floor(1e3*Math.random()),this.valu,this.textAreaElement.nativeElement.value);this.opinionsService.SendOpinionToDatabase(e),this.textAreaElement.nativeElement.value="",this._ViewSelected=0,this.dialogNewService.closeNewDialog()}ngOnDestroy(){this.sub?.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=n.Xpm({type:i,selectors:[["opn-dialog-new-opinion"]],viewQuery:function(e,a){if(1&e&&n.Gf(g,5),2&e){let u;n.iGM(u=n.CRH())&&(a.textAreaElement=u.first)}},decls:12,vars:3,consts:[[1,"dialog-background"],[1,"dialog-container"],[1,"dialog-header"],[1,"close",3,"click"],[1,"dialog-title"],[1,"dialog-content",3,"ngPlural"],["ngPluralCase","0"],["ngPluralCase","1"],[1,"dialog-buttons"],["class","button-label",3,"click",4,"ngIf"],["class","primary",3,"click",4,"ngIf"],[1,"opinie-container-content"],[1,"list-grid"],["class","element radius",3,"click",4,"ngFor","ngForOf"],[1,"element","radius",3,"click"],[1,"opinie-header"],[2,"margin-left","10px","border-radius","3px","background-color","#333333","width","80px","height","50px","display","flex","flex-direction","column","justify-content","center","align-items","center","cursor","default","font-size","1.9em","color","hsl(3deg, 97%, 98%)"],["id","content",1,"content"],["placeholder","Napisz Opini\u0119"],["area",""],[1,"button-label",3,"click"],[1,"primary",3,"click"]],template:function(e,a){1&e&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),n.NdJ("click",function(){return a.dialogNewService.closeNewDialog()}),n.qZA(),n.TgZ(4,"span",4),n._uU(5,"Wybierz produkt lub us\u0142ug\u0119."),n.qZA()(),n.TgZ(6,"div",5),n.YNc(7,c,3,1,"ng-template",6),n.YNc(8,t,15,3,"ng-template",7),n.qZA(),n.TgZ(9,"div",8),n.YNc(10,r,2,0,"button",9),n.YNc(11,h,2,0,"button",10),n.qZA()()()),2&e&&(n.xp6(6),n.Q6J("ngPlural",a._ViewSelected),n.xp6(4),n.Q6J("ngIf",a._ViewSelected>0),n.xp6(1),n.Q6J("ngIf",a._ViewSelected>0))},dependencies:[C.sg,C.O5,C.iq,C.zE],styles:['.dialog-background[_ngcontent-%COMP%]{background-color:#1c171780;position:absolute;width:100%;height:100%;top:0;left:0;z-index:99}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]{background-color:#fff5f5;width:900px;height:600px;position:relative;left:27%;top:20%;border-radius:5px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{padding-top:30px;margin-left:30px;width:93%;display:flex}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{width:40px;height:40px;background-color:transparent;border:none;border-radius:3px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{background-color:#cabfbe6c}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:before{content:"";display:block;background-color:var(--opn-color-dark-green);width:5px;height:23px;translate:12.2px 8px;rotate:-45deg}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:after{content:"";display:block;background-color:var(--opn-color-dark-green);width:5px;height:23px;translate:12.2px -68%;rotate:45deg}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-size:2em;display:block;pointer-events:none;margin-left:10px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{width:93%;height:70%;margin-left:30px;padding-top:14px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .opinie-container-content[_ngcontent-%COMP%]{width:98%;overflow-y:auto;overflow-x:hidden;scrollbar-width:none;height:44vh}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .opinie-container-content[_ngcontent-%COMP%]   .list-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,32.8%);gap:3px;margin-left:.7%;font-size:1.3rem}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .opinie-container-content[_ngcontent-%COMP%]   .list-grid[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;border:2px solid black;width:98%;height:122px;cursor:pointer;margin-bottom:3px;list-style:none}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .opinie-container-content[_ngcontent-%COMP%]   .list-grid[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]:hover{border:2px solid #555555}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .opinie-container-content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .opinie-header[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:15% 85%;grid-template-rows:57px;translate:0 12px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .opinie-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;font-size:1.8rem;margin-bottom:9px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .opinie-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;top:-8px;width:max-content;font-size:1.1rem}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:3vh;height:80%}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px;font-size:1.9em}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;translate:19px 20px;font-size:1.5rem}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:98%;height:27vh;resize:none;font-size:1.9rem;font-family:Arial,Helvetica,sans-serif;border:none;background-color:var(--opn-background-color);border-radius:3px;margin-top:5vh;margin-left:.8%}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-buttons[_ngcontent-%COMP%]{margin-left:30px;padding-top:15px;width:93%;display:flex;flex-direction:row;justify-content:space-around}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-buttons[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{font-size:1.5em;margin-top:20px;border:none;border-radius:3px;cursor:pointer;padding:10px;background-color:var(--opn-color-dark-green);color:var(--opn-background-color)}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-buttons[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]:hover{background-color:#0daf0dcb}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-buttons[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]{font-size:1.5em;margin-top:20px;border:none;border-radius:3px;background-color:transparent;cursor:pointer;padding:10px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-buttons[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]:hover{background-color:#cabfbe6c}']}),i})(),v=(()=>{class i{constructor(){}closeNewDialog(){this.dialogNewOpinionRef.clear()}openNewDialog(){this.dialogNewOpinionRef.clear(),this.dialogNewOpinionRef.createComponent(w)}openChangeDialog(e,a,u,k){this.dialogChangeOpinionViewRef.clear();const b=this.dialogChangeOpinionViewRef.createComponent(p);b.instance.opinionAuthor=e,b.instance.opinionId=a,b.instance.headerOpinion=u,b.instance.opinionContent=k}closeChangeDialog(){this.dialogChangeOpinionViewRef.clear()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()}}]);