"use strict";(self.webpackChunkopinion_portal=self.webpackChunkopinion_portal||[]).push([[874],{1889:(v,b,r)=>{r.d(b,{Q:()=>C});var n=r(5861),O=r(4650),_=r(9653),l=r(6678);const d=(0,_.ZF)("opinions"),s=((0,_.P1)(d,g=>g.opinion),(0,_.P1)(d,g=>g));var f=r(648),h=r(5669);let C=(()=>{class g extends h.e{constructor(){super(),this.OpinionStore=(0,O.f3M)(_.yh),this.state={opinion:[]},this.opinions$=this.OpinionStore.select(s),this.opinions$.subscribe(e=>this.state=e)}SendOpinionToDatabase(e){this.databaseQuery.pushToDatabase("opinions",e).then(c=>{this.OpinionStore.dispatch((0,l.es)({opinion:c}))})}GetOpinionFromDataBase(){this.databaseQuery.getAllFromDatabase("opinions").then(e=>{const c=e.filter(P=>P.user_name===JSON.parse(localStorage.getItem("nsdjlnsf")).user.name);this.InitOpinions(c)})}ChangeOpinion(e,c){this.databaseQuery.changeDataAtDatabase("opinions",c,{id:e},this.state,this.OpinionStore)}DeleteOpinion(e){var c=this;return(0,n.Z)(function*(){const P=yield c.databaseQuery.deleteDataAtDatabase("opinions",e);null!==P.success&&null!==P.error?c.DeleteOpinionFromStore(Number(e.id)):console.error(P.error)})()}DeleteOpinionFromStore(e){let c=[];null!=e&&(c=this.state.opinion.filter(P=>P.id!==e)),this.OpinionStore.dispatch((0,l.Hf)({opinion:c}))}InitOpinions(e){this.OpinionStore.dispatch((0,l.hH)({opinion:e}))}InitialDataInStore(e){window.localStorage.getItem(f.dA.nsdjlnsf)&&JSON.parse(window.localStorage.getItem(f.dA.nsdjlnsf))}AddOpinionToStore(e){this.OpinionStore.dispatch((0,l.es)({opinion:e}))}}return g.\u0275fac=function(e){return new(e||g)},g.\u0275prov=O.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},2725:(v,b,r)=>{r.d(b,{M:()=>C});var n=r(4650),O=r(9653),_=r(9043);const l=(0,O.ZF)("products"),d=(0,O.P1)(l,g=>g.products);(0,O.P1)(l,g=>g);var s=r(9641),f=r(5669),h=r(1135);let C=(()=>{class g extends f.e{constructor(){super(),this.productStore=(0,n.f3M)(O.yh),this._product$=new h.X([]),this.productStore.select(d).subscribe(e=>{void 0!==e&&this._product$.next([...e])})}sendProductToDatabase(e){this.databaseQuery.pushProductToDatabase("products",e).then(c=>{s.x.returnProduct(c.id,c.name,c.type_product,c.description,c.user_id)})}deleteProductFromDatabase(e){this.databaseQuery.deleteProductAtDatabase("products",e).then(c=>{})}getProductsFromDatabase(){return new Promise((e,c)=>{this.databaseQuery.getAllProductsFromDatabase("products").then(P=>{let k=s.x.returnProductArray(P);return this.productStore.dispatch((0,_.yK)({products:k})),e(k)})})}get product(){return this._product$.asObservable()}}return g.\u0275fac=function(e){return new(e||g)},g.\u0275prov=n.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},3782:(v,b,r)=>{r.d(b,{p:()=>M});var n=r(4650),O=r(9653),_=r(3606);const l=(0,O.ZF)("users"),d=(0,O.P1)(l,s=>s.user);let M=(()=>{class s{constructor(){this._userStore=(0,n.f3M)(O.yh),this.user={id:0,email:"",name:"",type:"",user_uuid:"",delete_user:!1,isEmpty:!0},this._users$=this._userStore.select(d),this._users$.subscribe(h=>{this.user=h})}getUserFromStore(){return this._users$}getUser(){return this.user}addUserToStore(h){this._userStore.dispatch((0,_.c)({user:h}))}}return s.\u0275fac=function(h){return new(h||s)},s.\u0275prov=n.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},8874:(v,b,r)=>{r.d(b,{t:()=>h});var n=r(4650),O=r(1889),_=r(8437),l=r(6895);const d=["headOpn"],M=["paragraph"];function s(C,g){if(1&C){const u=n.EpF();n.TgZ(0,"div",10),n.NdJ("click",function(){n.CHM(u);const c=n.oxw();return n.KtG(c.context=!c.context)}),n.O4$(),n.TgZ(1,"svg",11),n._UZ(2,"circle",12)(3,"circle",13)(4,"circle",14),n.qZA()()}}function f(C,g){if(1&C){const u=n.EpF();n.TgZ(0,"div",15)(1,"button",16),n.NdJ("click",function(){n.CHM(u);const c=n.oxw();return n.KtG(c.changeOpinion())}),n._uU(2,"Edytuj"),n.qZA(),n.TgZ(3,"button",16),n.NdJ("click",function(){n.CHM(u);const c=n.oxw();return n.KtG(c.deleteOpinion())}),n._uU(4,"Usu\u0144"),n.qZA()()}}let h=(()=>{class C{constructor(u,e){this.op=u,this.dialogChangeService=e,this.login=!1,this.user_name="",this.context=!1,this.valu="",this.globalChangeValue={id:"",header:"",content:""}}ngOnInit(){void 0!==this.ops&&(this.content=this.ops.content,this.header=this.ops.header,this.opID=this.ops.id)}changeOpinion(){"undefined"!==this.paragraph.nativeElement.id&&(this.dialogChangeService.openChangeDialog(this.user_name[0],Number(this.paragraph.nativeElement.id),this.headOpn.nativeElement.textContent,this.paragraph.nativeElement.textContent),this.context=!this.context)}deleteOpinion(){"undefined"!==this.paragraph.nativeElement.id&&(this.op.DeleteOpinion({id:this.paragraph.nativeElement.id}),this.context=!this.context)}}return C.\u0275fac=function(u){return new(u||C)(n.Y36(O.Q),n.Y36(_.R))},C.\u0275cmp=n.Xpm({type:C,selectors:[["opn-opinie-container"]],viewQuery:function(u,e){if(1&u&&(n.Gf(d,5),n.Gf(M,5)),2&u){let c;n.iGM(c=n.CRH())&&(e.headOpn=c.first),n.iGM(c=n.CRH())&&(e.paragraph=c.first)}},inputs:{login:["loginP","login"],ops:"ops",user_name:"user_name"},decls:19,vars:7,consts:[[1,"opinie-container","radius"],[1,"opinie-header"],[2,"margin-left","10px","border-radius","3px","background-color","#333333","width","80px","height","50px","text-align","center","display","flex","flex-direction","column","justify-content","center","align-items","center"],[2,"font-size","1.9em","text-align","center","padding-top","40px","cursor","default"],["headOpn",""],["id","context-m","class","context_m",3,"click",4,"ngIf"],["id","content ",1,"content"],[3,"id"],["paragraph",""],["class","container__menu",4,"ngIf"],["id","context-m",1,"context_m",3,"click"],["width","30","height","50","viewBox","-6 2 30 40"],["cx","10","cy","7","r","5","fill","hsl(0,0%,99%)",1,"svg__circle"],["cx","10","cy","22.22","r","5","fill","hsl(0,0%,99%)",1,"svg__circle"],["cx","10","cy","38","r","5","fill","hsl(0,0%,99%)",1,"svg__circle"],[1,"container__menu"],[3,"click"]],template:function(u,e){1&u&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),n._uU(4),n.qZA()(),n.TgZ(5,"div")(6,"h1"),n._uU(7),n.qZA(),n.TgZ(8,"span"),n._uU(9,"Zopiniowa\u0142: "),n.TgZ(10,"b",null,4),n._uU(12),n.qZA()()(),n.YNc(13,s,5,0,"div",5),n.qZA(),n.TgZ(14,"div",6)(15,"p",7,8),n._uU(17),n.qZA()(),n.YNc(18,f,5,0,"div",9),n.qZA()),2&u&&(n.xp6(4),n.Oqu(e.user_name[0]),n.xp6(3),n.Oqu(e.user_name),n.xp6(5),n.Oqu(e.header),n.xp6(1),n.Q6J("ngIf",e.login),n.xp6(2),n.Q6J("id",e.opID),n.xp6(2),n.Oqu(e.content),n.xp6(1),n.Q6J("ngIf",e.context))},dependencies:[l.O5],styles:[".opinie-container[_ngcontent-%COMP%]{width:100%;min-height:257.317px;height:28cqh;background-color:var(--opn-green-light);color:var(--opn-background-color);display:flex;flex-direction:column;align-items:center}.opinie-container[_ngcontent-%COMP%]   .opinie-header[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:20% 66% 12%;grid-template-rows:57px;margin-top:12px}.opinie-container[_ngcontent-%COMP%]   .opinie-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0}.opinie-container[_ngcontent-%COMP%]   .opinie-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;top:-21px;width:max-content;font-size:1.1rem}.opinie-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:6%;padding-left:6px;padding-right:6px}.opinie-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px;font-size:1.9em;font-family:Arial,Helvetica,sans-serif}.opinie-container[_ngcontent-%COMP%]   .container__menu[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;width:33%;padding:3px;height:max-content;box-shadow:0 0 7px #e8e7e3;bottom:40%;left:40%;background-color:#fdfdfd}.opinie-container[_ngcontent-%COMP%]   .container__menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:99%;height:40px;margin-top:5px;font-size:1.4em;border:none;background-color:transparent;color:var(--opn-color-green);cursor:pointer}.opinie-container[_ngcontent-%COMP%]   .container__menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{width:99%;height:40px;margin-top:5px;font-size:1.4em;background-color:var(--opn-green-light);color:#fdfdfd}.opinie-container[_ngcontent-%COMP%]   .none[_ngcontent-%COMP%]{display:none}.opinie-container[_ngcontent-%COMP%]   .opinie-container-content[_ngcontent-%COMP%]{width:477px;overflow-y:auto;overflow-x:hidden;scrollbar-width:none;height:20vh}.opinie-container[_ngcontent-%COMP%]   .opinie-container-content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.radius[_ngcontent-%COMP%]{border-radius:3px}.context_m[_ngcontent-%COMP%]{width:50px;height:50px;text-align:center;cursor:pointer}.edit-container[_ngcontent-%COMP%]{min-width:477px;width:100%;min-height:28vh;background-color:var(--opn-green-light);color:var(--opn-background-color);display:flex;flex-direction:column;align-items:center}.edit-container[_ngcontent-%COMP%]   .call-to-action[_ngcontent-%COMP%]{width:100%;height:28vh;font-size:1.7rem;font-weight:700;color:var(--opn-background-color);background-color:var(--opn-color-green);border:none;cursor:pointer}.edit-container[_ngcontent-%COMP%]   .call-to-action-small[_ngcontent-%COMP%]{width:max-content;height:max-content;font-size:1.2rem;font-weight:700;color:var(--opn-background-color);background-color:transparent;border:none;cursor:pointer;margin-right:23px;padding:3px 8px;letter-spacing:2px}.edit-container[_ngcontent-%COMP%]   .call-to-action-small[_ngcontent-%COMP%]:hover{background-color:var(--opn-color-green)}.edit-container[_ngcontent-%COMP%]   .hover[_ngcontent-%COMP%]:hover{background-color:var(--opn-color-dark-green)}.edit-container[_ngcontent-%COMP%]   .opinie-header[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:20% 60% 20%;grid-template-rows:57px;margin-top:12px}.edit-container[_ngcontent-%COMP%]   .opinie-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0}.edit-container[_ngcontent-%COMP%]   .opinie-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;top:-21px;width:max-content;font-size:1.1rem}.edit-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:3vh}.edit-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px;font-size:1.9em}.edit-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:460px;height:17vh;resize:none;font-size:1.9rem;font-family:Arial,Helvetica,sans-serif;border:none;background-color:var(--opn-background-color);border-radius:3px}.edit-container[_ngcontent-%COMP%]   .edit-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:max-content}.edit-container[_ngcontent-%COMP%]   .edit-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:flex-end;margin:10px 0;border:none}.edit-container[_ngcontent-%COMP%]   .container__menu[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;width:33%;padding:3px;height:max-content;box-shadow:0 0 7px #e8e7e3;bottom:40%;left:40%;background-color:#fdfdfd}.edit-container[_ngcontent-%COMP%]   .container__menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:99%;height:40px;margin-top:5px;font-size:1.4em;border:none;background-color:transparent;color:var(--opn-color-green);cursor:pointer}.edit-container[_ngcontent-%COMP%]   .container__menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{width:99%;height:40px;margin-top:5px;font-size:1.4em;background-color:var(--opn-green-light);color:#fdfdfd}.edit-container[_ngcontent-%COMP%]   .none[_ngcontent-%COMP%]{display:none}.edit-container[_ngcontent-%COMP%]   .opinie-container-content[_ngcontent-%COMP%]{width:477px;overflow-y:auto;overflow-x:hidden;scrollbar-width:none;height:20vh}.edit-container[_ngcontent-%COMP%]   .opinie-container-content[_ngcontent-%COMP%]   .list-grid[_ngcontent-%COMP%]{padding:0;display:grid;grid-template-columns:repeat(3,32.8%);gap:3px;margin-left:.7%}.edit-container[_ngcontent-%COMP%]   .opinie-container-content[_ngcontent-%COMP%]   .list-grid[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;border:2px solid black;width:98%;height:73px;cursor:pointer;margin-bottom:3px;list-style:none}.edit-container[_ngcontent-%COMP%]   .opinie-container-content[_ngcontent-%COMP%]   .list-grid[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]:hover{border:2px solid #555555}.edit-container[_ngcontent-%COMP%]   .opinie-container-content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}svg[_ngcontent-%COMP%]:hover > .svg__circle[_ngcontent-%COMP%]{fill:#dbdbdb}.primary[_ngcontent-%COMP%]{width:max-content;height:44px;font-size:1.1em;font-weight:700;color:var(--opn-background-color);background-color:var(--opn-color-green);padding:7px;cursor:pointer}.primary[_ngcontent-%COMP%]:hover{background-color:var(--opn-color-dark-green)}@media (max-width: 1600px){.opinion__container[_ngcontent-%COMP%]   .opinie-container[_ngcontent-%COMP%]   .opinie-header[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:16% 70% 10%;grid-template-rows:57px;margin-top:12px}}"]}),C})()},9641:(v,b,r)=>{r.d(b,{x:()=>n});class n{constructor(_,l,d,M,s){this.name=_,this.type_product=l,this.description=d,this.user_id=M,this.id=s}static returnProduct(_,l,d,M,s){return new n(l,d,M,s,_)}static returnProductArray(_){return _.reduce((l,d)=>{let M=new n(d.name,d.type_product,d.description,d.user_id,d.id);return l.push(M),l},[])}}},8437:(v,b,r)=>{r.d(b,{R:()=>w});var n=r(4650),O=r(4004),_=r(1889),l=r(3782);function d(i,p,t,o,a){return{user_uuid:i,user_name:p,id:t,header:o,content:a}}const M=["area"];let s=(()=>{class i{constructor(){this.opinionEmitter=new n.vpe,this.author="Anonim",this.valu="",this._ViewSelected=0,this.dialogNewService=(0,n.f3M)(w),this.userStoreService=(0,n.f3M)(l.p),this.opinionsService=(0,n.f3M)(_.Q)}ngOnInit(){""!==this.headerOpinion&&(this.author=this.opinionAuthor,this.valu=this.headerOpinion)}ngAfterViewInit(){""!==this.opinionContent&&(this.textAreaElement.nativeElement.value=this.opinionContent)}onChangeOpinion(){let t="";this.userSub=this.userStoreService.getUserFromStore().pipe((0,O.U)(a=>a.user_uuid)).subscribe(a=>{t=a});let o=d(t,this.opinionAuthor,this.opinionId,this.valu,this.textAreaElement.nativeElement.value);this.opinionsService.ChangeOpinion(String(o.id),{header:o.header,content:o.content}),this.textAreaElement.nativeElement.value="",this.dialogNewService.closeChangeDialog()}ngOnDestroy(){this.userSub?.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=n.Xpm({type:i,selectors:[["opn-dialog-change-opinion"]],viewQuery:function(t,o){if(1&t&&n.Gf(M,5),2&t){let a;n.iGM(a=n.CRH())&&(o.textAreaElement=a.first)}},inputs:{opinionAuthor:"opinionAuthor",opinionId:"opinionId",headerOpinion:"headerOpinion",opinionContent:"opinionContent"},outputs:{opinionEmitter:"opinionEmitter"},decls:25,vars:3,consts:[[1,"dialog-background"],[1,"dialog-container"],[1,"dialog-header"],[1,"close",3,"click"],[1,"dialog-title"],[1,"dialog-content"],[1,"opinie-header"],[2,"margin-left","10px","border-radius","3px","background-color","#333333","width","80px","height","50px","display","flex","flex-direction","column","justify-content","center","align-items","center","color","var(--opn-background-color)","font-size","1.7rem"],["id","content",1,"content"],["placeholder","Zmie\u0144 Opini\u0119"],["area",""],[1,"dialog-buttons"],[1,"button-label",3,"click"]],template:function(t,o){1&t&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),n.NdJ("click",function(){return o.dialogNewService.closeChangeDialog()}),n.qZA(),n.TgZ(4,"span",4),n._uU(5,"Edytuj opini\u0119."),n.qZA()(),n.TgZ(6,"div",5)(7,"div",6)(8,"div",7),n._uU(9),n.qZA(),n.TgZ(10,"div")(11,"h1"),n._uU(12),n.qZA(),n.TgZ(13,"span"),n._uU(14,"Zopiniowa\u0142: "),n.TgZ(15,"b"),n._uU(16),n.qZA()()()(),n.TgZ(17,"div",8)(18,"span"),n._uU(19,"Add star meter there"),n.qZA(),n._UZ(20,"textarea",9,10),n.qZA()(),n.TgZ(22,"div",11)(23,"button",12),n.NdJ("click",function(){return o.onChangeOpinion()}),n._uU(24,"Zmie\u0144 opini\u0119"),n.qZA()()()()),2&t&&(n.xp6(9),n.hij(" ",o.author[0]," "),n.xp6(3),n.Oqu(o.author),n.xp6(4),n.Oqu(o.valu))},styles:['.dialog-background[_ngcontent-%COMP%]{background-color:#1c171780;position:absolute;width:100%;height:100%;top:0;left:0;z-index:99}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]{background-color:#fff5f5;width:900px;height:600px;position:relative;left:27%;top:20%;border-radius:5px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{translate:30px 40px;width:93%;display:flex}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%], .dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{width:40px;height:40px;background-color:transparent;border:none;border-radius:3px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover, .dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]:hover{background-color:#cabfbe6c}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:before{content:"";display:block;background-color:var(--opn-color-dark-green);width:5px;height:23px;translate:12.2px 8px;rotate:-45deg}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:after{content:"";display:block;background-color:var(--opn-color-dark-green);width:5px;height:23px;translate:12.2px -68%;rotate:45deg}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   .back-temp[_ngcontent-%COMP%]{background-color:var(--opn-color-dark-green);display:block;width:28px;height:28px;clip-path:polygon(41% 18%,41% 46%,100% 46%,100% 61%,41% 61%,40% 84%,0% 50%)}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-size:2em;display:block;pointer-events:none;translate:4px 30%}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{width:93%;height:70%;translate:30px 55px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .opinie-header[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:15% 85%;grid-template-rows:57px;translate:0 12px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .opinie-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;font-size:1.8rem;margin-bottom:9px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .opinie-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;top:-8px;width:max-content;font-size:1.1rem}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:3vh;height:80%}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px;font-size:1.9em}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;translate:19px 20px;font-size:1.5rem}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:98%;height:27vh;resize:none;font-size:1.9rem;font-family:Arial,Helvetica,sans-serif;border:none;background-color:var(--opn-background-color);border-radius:3px;margin-top:5vh;margin-left:.8%}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-buttons[_ngcontent-%COMP%]{translate:30px 60px;width:93%;display:flex;flex-direction:row;justify-content:flex-end}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-buttons[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]{font-size:1.5em;margin-top:20px;border:none;border-radius:3px;background-color:transparent;cursor:pointer;padding:10px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-buttons[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]:hover{background-color:#cabfbe6c}']}),i})();var f=r(2725),h=r(6895);let C=(()=>{class i{constructor(){this.check=!1,this.maxStar=5,this.activeNumber=new n.vpe}starMeterTestHostListener(t){if(this.check);else if("label"===t.localName){let o=document.getElementById("star_meter-comp")?.childNodes;this.resetChecks(o);let a=Number(t.id);this.checkElements(o,a)}}unCheckElements(t){if("label"===t.childNodes[0].childNodes[0].localName){let o=document.getElementById("star_meter-comp")?.childNodes;this.resetChecks(o)}}starMeterTest(t){if("label"===t.localName&&!0!==this.check){let o=Number(t.id),a=document.getElementById("star_meter-comp")?.childNodes;this.activateElements(a,o),this.check=!0,this.activeNumber.emit(o),document.getElementById("star_meter-comp")?.childNodes.forEach(m=>{Number(m.id)!==this.maxStar&&document.getElementById(`${Number(m.id)+1}`)?.addEventListener("click",x=>x.preventDefault())})}}activateElements(t,o){t?.forEach(a=>{Number(a.id)<=o&&a.classList.add("active_input")})}checkElements(t,o){t?.forEach(a=>{Number(a.id)<=o&&a.classList.add("check_input")})}resetChecks(t){t?.forEach(o=>{o.classList.remove("check_input")})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=n.Xpm({type:i,selectors:[["opn-star-meter"]],hostBindings:function(t,o){1&t&&n.NdJ("mouseover",function(m){return o.starMeterTestHostListener(m.target)})("mouseleave",function(m){return o.unCheckElements(m.target)})("click",function(m){return o.starMeterTest(m.target)})},outputs:{activeNumber:"activeNumber"},decls:11,vars:0,consts:[["id","star_meter-comp",1,"star_meter-container"],["id","1",1,"star_meter"],["type","radio","name","star_meter"],["id","2",1,"star_meter"],["id","3",1,"star_meter"],["id","4",1,"star_meter"],["id","5",1,"star_meter"]],template:function(t,o){1&t&&(n.TgZ(0,"div",0)(1,"label",1),n._UZ(2,"input",2),n.qZA(),n.TgZ(3,"label",3),n._UZ(4,"input",2),n.qZA(),n.TgZ(5,"label",4),n._UZ(6,"input",2),n.qZA(),n.TgZ(7,"label",5),n._UZ(8,"input",2),n.qZA(),n.TgZ(9,"label",6),n._UZ(10,"input",2),n.qZA()())},styles:['.star_meter-container[_ngcontent-%COMP%]{display:flex;margin-left:5px;margin-top:45px;width:max-content}.star_meter[_ngcontent-%COMP%]{display:block;margin-left:5px;width:2rem;height:30px;background-color:#b4b2b2;font-size:1.4em;position:relative;color:var(--opn-color-green);-webkit-user-select:none;user-select:none;cursor:pointer;clip-path:polygon(50% 0%,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%)}.star_meter[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none}.star_meter[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#eaee0b;z-index:-1;scale:0}.star_meter[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked:before{scale:1;z-index:0}.active_input[_ngcontent-%COMP%], .check_input[_ngcontent-%COMP%]{background-color:#eaee0b}']}),i})();const g=["area"];function u(i,p){if(1&i){const t=n.EpF();n.TgZ(0,"li",14),n.NdJ("click",function(){const m=n.CHM(t).$implicit,x=n.oxw(2);return n.KtG(x.toogle(m.name))}),n._uU(1),n.qZA()}if(2&i){const t=p.$implicit;n.xp6(1),n.Oqu(t.name)}}function e(i,p){if(1&i&&(n.TgZ(0,"div",11)(1,"ul",12),n.YNc(2,u,2,1,"li",13),n.qZA()()),2&i){const t=n.oxw();n.xp6(2),n.Q6J("ngForOf",t.nm)}}function c(i,p){if(1&i){const t=n.EpF();n.TgZ(0,"div",15)(1,"div",16),n._uU(2),n.qZA(),n.TgZ(3,"div")(4,"h1"),n._uU(5),n.qZA(),n.TgZ(6,"span"),n._uU(7,"Zopiniowa\u0142: "),n.TgZ(8,"b"),n._uU(9),n.qZA()()()(),n.TgZ(10,"div",17)(11,"opn-star-meter",18),n.NdJ("activeNumber",function(a){n.CHM(t);const m=n.oxw();return n.KtG(m.starMeterOutput(a))}),n.qZA(),n._UZ(12,"textarea",19,20),n.qZA()}if(2&i){const t=n.oxw();n.xp6(2),n.hij(" ",t.uName[0]," "),n.xp6(3),n.Oqu(t.uName),n.xp6(4),n.Oqu(t.valu)}}function P(i,p){if(1&i){const t=n.EpF();n.TgZ(0,"button",21),n.NdJ("click",function(){n.CHM(t);const a=n.oxw();return n.KtG(a.backView())}),n._uU(1,"Wstecz"),n.qZA()}}function k(i,p){if(1&i){const t=n.EpF();n.TgZ(0,"button",22),n.NdJ("click",function(){n.CHM(t);const a=n.oxw();return n.KtG(a.onPublishOpinion())}),n._uU(1,"Wystaw opini\u0119"),n.qZA()}}let y=(()=>{class i{constructor(){this.valu="",this._ViewSelected=0,this.dialogNewService=(0,n.f3M)(w),this.opinionsService=(0,n.f3M)(_.Q),this.userStoreService=(0,n.f3M)(l.p),this.productService=(0,n.f3M)(f.M),this.nm=[],this.uName="Anonim",this.uUuid=""}ngOnInit(){"user"in this.userStoreService.getUser()?(this.uName=this.userStoreService.getUser().user.name,this.uUuid=this.userStoreService.getUser().user.user_uuid):(this.uName=this.userStoreService.getUser().name,this.uUuid=this.userStoreService.getUser().user_uuid),this.productService.getProductsFromDatabase().then(t=>{this.nm=t})}backView(){1===this._ViewSelected&&(this._ViewSelected=0)}toogle(t){0===this._ViewSelected&&(this.valu=t,this._ViewSelected=1)}onPublishOpinion(){let t=d(this.uUuid,this.uName,Math.floor(1e3*Math.random()),this.valu,this.textAreaElement.nativeElement.value);this.opinionsService.SendOpinionToDatabase(t),this.textAreaElement.nativeElement.value="",this._ViewSelected=0,this.dialogNewService.closeNewDialog()}starMeterOutput(t){console.log(t)}ngOnDestroy(){this.sub?.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=n.Xpm({type:i,selectors:[["opn-dialog-new-opinion"]],viewQuery:function(t,o){if(1&t&&n.Gf(g,5),2&t){let a;n.iGM(a=n.CRH())&&(o.textAreaElement=a.first)}},decls:12,vars:3,consts:[[1,"dialog-background"],[1,"dialog-container"],[1,"dialog-header"],[1,"close",3,"click"],[1,"dialog-title"],[1,"dialog-content",3,"ngPlural"],["ngPluralCase","0"],["ngPluralCase","1"],[1,"dialog-buttons"],["class","button-label",3,"click",4,"ngIf"],["class","primary",3,"click",4,"ngIf"],[1,"opinie-container-content"],[1,"list-grid"],["class","element radius",3,"click",4,"ngFor","ngForOf"],[1,"element","radius",3,"click"],[1,"opinie-header"],[2,"margin-left","10px","border-radius","3px","background-color","#333333","width","80px","height","50px","display","flex","flex-direction","column","justify-content","center","align-items","center","cursor","default","font-size","1.9em","color","hsl(3deg, 97%, 98%)"],["id","content",1,"content"],[3,"activeNumber"],["placeholder","Napisz Opini\u0119"],["area",""],[1,"button-label",3,"click"],[1,"primary",3,"click"]],template:function(t,o){1&t&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),n.NdJ("click",function(){return o.dialogNewService.closeNewDialog()}),n.qZA(),n.TgZ(4,"span",4),n._uU(5,"Wybierz produkt lub us\u0142ug\u0119."),n.qZA()(),n.TgZ(6,"div",5),n.YNc(7,e,3,1,"ng-template",6),n.YNc(8,c,14,3,"ng-template",7),n.qZA(),n.TgZ(9,"div",8),n.YNc(10,P,2,0,"button",9),n.YNc(11,k,2,0,"button",10),n.qZA()()()),2&t&&(n.xp6(6),n.Q6J("ngPlural",o._ViewSelected),n.xp6(4),n.Q6J("ngIf",o._ViewSelected>0),n.xp6(1),n.Q6J("ngIf",o._ViewSelected>0))},dependencies:[h.sg,h.O5,h.iq,h.zE,C],styles:['.dialog-background[_ngcontent-%COMP%]{background-color:#1c171780;position:absolute;width:100%;height:100%;top:0;left:0;z-index:99}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]{background-color:#fff5f5;width:900px;height:600px;position:relative;left:27%;top:20%;border-radius:5px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{padding-top:30px;margin-left:30px;width:93%;display:flex}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{width:40px;height:40px;background-color:transparent;border:none;border-radius:3px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{background-color:#cabfbe6c}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:before{content:"";display:block;background-color:var(--opn-color-dark-green);width:5px;height:23px;translate:12.2px 8px;rotate:-45deg}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:after{content:"";display:block;background-color:var(--opn-color-dark-green);width:5px;height:23px;translate:12.2px -68%;rotate:45deg}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-size:2em;display:block;pointer-events:none;margin-left:10px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{width:93%;height:70%;margin-left:30px;padding-top:14px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .opinie-container-content[_ngcontent-%COMP%]{width:98%;overflow-y:auto;overflow-x:hidden;scrollbar-width:none;height:44vh}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .opinie-container-content[_ngcontent-%COMP%]   .list-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,32.8%);gap:3px;margin-left:.7%;font-size:1.3rem}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .opinie-container-content[_ngcontent-%COMP%]   .list-grid[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;border:2px solid black;width:98%;height:122px;cursor:pointer;margin-bottom:3px;list-style:none}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .opinie-container-content[_ngcontent-%COMP%]   .list-grid[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]:hover{border:2px solid #555555}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .opinie-container-content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .opinie-header[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:15% 85%;grid-template-rows:57px;translate:0 12px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .opinie-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;font-size:1.8rem;margin-bottom:9px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .opinie-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;top:-8px;width:max-content;font-size:1.1rem}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:3vh;height:80%}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px;font-size:1.9em}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;translate:19px 20px;font-size:1.5rem}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:98%;height:27vh;resize:none;font-size:1.9rem;font-family:Arial,Helvetica,sans-serif;border:none;background-color:var(--opn-background-color);border-radius:3px;margin-top:3vh;margin-left:.8%}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-buttons[_ngcontent-%COMP%]{margin-left:30px;padding-top:15px;width:93%;display:flex;flex-direction:row;justify-content:space-around}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-buttons[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{font-size:1.5em;margin-top:20px;border:none;border-radius:3px;cursor:pointer;padding:10px;background-color:var(--opn-color-dark-green);color:var(--opn-background-color)}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-buttons[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]:hover{background-color:#0daf0dcb}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-buttons[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]{font-size:1.5em;margin-top:20px;border:none;border-radius:3px;background-color:transparent;cursor:pointer;padding:10px}.dialog-background[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-buttons[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]:hover{background-color:#cabfbe6c}opn-star-meter[_ngcontent-%COMP%]{display:block;height:30px;width:200px}']}),i})(),w=(()=>{class i{constructor(){}closeNewDialog(){this.dialogNewOpinionRef.clear()}openNewDialog(){this.dialogNewOpinionRef.clear(),this.dialogNewOpinionRef.createComponent(y)}openChangeDialog(t,o,a,m){this.dialogChangeOpinionViewRef.clear();const x=this.dialogChangeOpinionViewRef.createComponent(s);x.instance.opinionAuthor=t,x.instance.opinionId=o,x.instance.headerOpinion=a,x.instance.opinionContent=m}closeChangeDialog(){this.dialogChangeOpinionViewRef.clear()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()}}]);